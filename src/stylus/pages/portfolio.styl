@import "../variables.styl"
portfolio_routes = json('../../js/configurations/portfolio_routes.json', { hash: true, leave-strings: true });
/* Porttfolio styles */
#portfolio
  .creato-home
    fixed 50px false false 50px
    z-index 10000
  .page-content
    position relative
    size 100% false
    overflow hidden
    padding 0
  .portfolio-image
    width 65%
    padding 20px
  .portfolio-pages-wrapper
    size 100%
    box-sizing border-box
    &.gm-prevented
      overflow-y auto
  .portfolio-items-wrapper
    absolute 0 false false 0
    height 5000px
    width 5000px
    transform-origin left center
    overflow hidden
    z-index 1300
    transition opacity pages-in_out cubic-bezier(0.250, 0.250, 0.750, 0.750),
                visibility 0s linear
    &.hide
      visibility hidden
      opacity 0
      z-index -1
  .portfolio-scrolling-block
    display flex
    flex-wrap nowrap
    overflow visible
    size 100%
    transform-origin left center
  .portfolio-item
    display flex
    align-items: center;
    justify-content: center;
    position relative
    height 100%
    box-sizing border-box
    overflow hidden
    border-left 1px solid $purple
    border-right 1px solid $purple
    cursor pointer
    &[data-text=studio]
      .portfolio-item-text
        color $light-purple
        text-shadow 0px 0px 1px $purple
    .portfolio-item-text
      relative false
      color $white
      font-size 42px
      //font-size  0 // be carefull
      text-shadow 0px 0px 4px $white
      &:after
        display block
        absolute 50% false false 50%
        transform translate3d(-50%, -50%, 0)
        content ''
        size 110vw 180vh
        z-index -2
    &#go_back
      cursor pointer
      &
        .portfolio-item-text:after
          display: block
          content ''
          size 25px 100%
          margin .3rem 1rem 0 0
          absolute 0 100% false false
          transform rotate(180deg)
          background url("/images/double-arrow.svg") no-repeat center center;
          background-size cover


for val, key in portfolio_routes
  #portfolio
    .portfolio-item[id*=\'{key}\']
      .portfolio-item-text
        &:after
          image-rendering -webkit-optimize-contrast
          image-rendering optimizeQuality
          image-rendering optimizeSpeed
          image-rendering -moz-crisp-edges
          background s('url(%s)', '/images/portfolio/thumb/' + val + '.jpg') no-repeat center center
          background-size cover

+media-query(only screen, max-width $large)
  #portfolio
    .portfolio-item
      .portfolio-item-text
        transform rotate(-90deg)
      &#go_back
        &
          .portfolio-item-text:after
            size 20px 100%
            margin-top 0
            transform rotate(-90deg)

+media-query(only screen, max-width $medium)
  #portfolio
    .portfolio-item
      .portfolio-item-text
        font-size 18px